

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview &mdash; DFO-GN v1.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="DFO-GN v1.0.1 documentation" href="index.html"/>
        <link rel="next" title="Installing DFO-GN" href="install.html"/>
        <link rel="prev" title="DFO-GN: A Derivative-Free Gauss-Newton Solver" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> DFO-GN
          

          
          </a>

          
            
            
              <div class="version">
                1.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#when-to-use-dfo-gn">When to use DFO-GN</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parameter-fitting">Parameter Fitting</a></li>
<li class="toctree-l2"><a class="reference internal" href="#solving-nonlinear-systems-of-equations">Solving Nonlinear Systems of Equations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#details-of-the-dfo-gn-algorithm">Details of the DFO-GN Algorithm</a></li>
<li class="toctree-l2"><a class="reference internal" href="#references">References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing DFO-GN</a></li>
<li class="toctree-l1"><a class="reference internal" href="userguide.html">Using DFO-GN</a></li>
<li class="toctree-l1"><a class="reference internal" href="history.html">Version History</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DFO-GN</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/info.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<div class="section" id="when-to-use-dfo-gn">
<h2>When to use DFO-GN<a class="headerlink" href="#when-to-use-dfo-gn" title="Permalink to this headline">¶</a></h2>
<p>DFO-GN is designed to solve the nonlinear least-squares minimization problem (with optional bound constraints)</p>
<div class="math">
\[\begin{split}\min_{x\in\mathbb{R}^n}  &amp;\quad  f(x) := \sum_{i=1}^{m}r_{i}(x)^2 \\
\text{s.t.} &amp;\quad  a \leq x \leq b\end{split}\]</div>
<p>We call <span class="math">\(f(x)\)</span> the objective function and <span class="math">\(r_i(x)\)</span> the residual functions (or simply residuals).</p>
<p>DFO-GN is a <em>derivative-free</em> optimization algorithm, which means it does not require the user to provide the derivatives of <span class="math">\(f(x)\)</span> or <span class="math">\(r_i(x)\)</span>, nor does it attempt to estimate them internally (by using finite differencing, for instance).</p>
<p>There are two main situations when using a derivative-free algorithm (such as DFO-GN) is preferable to a derivative-based algorithm (which is the vast majority of least-squares solvers).</p>
<p>If <strong>the residuals are noisy</strong>, then calculating or even estimating their derivatives may be impossible (or at least very inaccurate). By noisy, we mean that if we evaluate <span class="math">\(r_i(x)\)</span> multiple times at the same value of <span class="math">\(x\)</span>, we get different results. This may happen when a Monte Carlo simulation is used, for instance, or <span class="math">\(r_i(x)\)</span> involves performing a physical experiment.</p>
<p>If <strong>the residuals are expensive to evaluate</strong>, then estimating derivatives (which requires <span class="math">\(n\)</span> evaluations of each <span class="math">\(r_i(x)\)</span> for every point of interest <span class="math">\(x\)</span>) may be prohibitively expensive. Derivative-free methods are designed to solve the problem with the fewest number of evaluations of the objective as possible.</p>
<p><strong>However, if you have provide (or a solver can estimate) derivatives</strong> of <span class="math">\(r_i(x)\)</span>, then it is probably a good idea to use one of the many derivative-based solvers (such as <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.least_squares.html">one from the SciPy library</a>).</p>
</div>
<div class="section" id="parameter-fitting">
<h2>Parameter Fitting<a class="headerlink" href="#parameter-fitting" title="Permalink to this headline">¶</a></h2>
<p>A very common problem in many quantitative disciplines is fitting parameters to observed data. Typically, this means that we have developed a model for some proccess, which takes a vector of (known) inputs <span class="math">\(\mathrm{obs}\in\mathbb{R}^N\)</span> and some model parameters <span class="math">\(x=(x_1, \ldots, x_n)\in\mathbb{R}^n\)</span>, and computes a (predicted) quantity of interest <span class="math">\(y\in\mathbb{R}\)</span>:</p>
<div class="math">
\[y = \mathrm{model}(\mathrm{obs}, x)\]</div>
<p>For this model to be useful, we need to determine a suitable choice for the parameters <span class="math">\(x\)</span>, which typically cannot be directly observed. A common way of doing this is to calibrate from observed relationships.</p>
<p>Suppose we have some observations of the input-to-output relationship. That is, we have data</p>
<div class="math">
\[(\mathrm{obs}_1, y_1), \ldots, (\mathrm{obs}_m, y_m)\]</div>
<p>Then, we try to find the parameters <span class="math">\(x\)</span> which produce the best possible fit to these observations by minimizing the sum-of-squares of the prediction errors:</p>
<div class="math">
\[\min_{x\in\mathbb{R}^n}  \quad  f(x) := \sum_{i=1}^{m}(y_i - \mathrm{model}(\mathrm{obs}_i, x))^2\]</div>
<p>which is in the least-squares form required by DFO-GN.</p>
<p>As described above, DFO-GN is a particularly good choice for parameter fitting when the model has noise (e.g. Monte Carlo simulation) or is expensive to evaluate.</p>
</div>
<div class="section" id="solving-nonlinear-systems-of-equations">
<h2>Solving Nonlinear Systems of Equations<a class="headerlink" href="#solving-nonlinear-systems-of-equations" title="Permalink to this headline">¶</a></h2>
<p>Suppose we wish to solve the system of nonlinear equations: find <span class="math">\(x\in\mathbb{R}^n\)</span> satisfying</p>
<div class="math">
\[\begin{split}r_1(x) &amp;= 0 \\
r_2(x) &amp;= 0 \\
&amp;\vdots \\
r_m(x) &amp;= 0\end{split}\]</div>
<p>Such problems can have no solutions, one solution, or many solutions (possibly infinitely many). Often, but certainly not always, the number of solutions depends on whether there are more equations or unknowns: if <span class="math">\(m&lt;n\)</span> we say the system is underdetermined (and there are often multiple solutions), if <span class="math">\(m=n\)</span> we say the system is square (and there is often only one solution), and if <span class="math">\(m&gt;n\)</span> we say the system is overdetermined (and there are often no solutions).</p>
<p>This is not always true – there is no solution to the underdetermined system when <span class="math">\(m=1\)</span> and <span class="math">\(n=2\)</span> and we choose <span class="math">\(r_1(x)=\sin(x_1+x_2)-2\)</span>, for example.
Similarly, if we take <span class="math">\(n=1\)</span> and <span class="math">\(r_i(x)=i (x-1)(x-2)\)</span>, we can make <span class="math">\(m\)</span> as large as we like while keeping <span class="math">\(x=1\)</span> and <span class="math">\(x=2\)</span> as solutions (to the overdetermined system).</p>
<p>If no solution exists, it makes sense to instead search for an <span class="math">\(x\)</span> which approximately satisfies each equation. A common way to do this is to minimize the sum-of-squares of the left-hand-sides:</p>
<div class="math">
\[\min_{x\in\mathbb{R}^n}  \quad  f(x) := \sum_{i=1}^{m}r_i(x)^2\]</div>
<p>which is the form required by DFO-GN.</p>
<p>If a solution does exist, then this formulation will also find this (where we will get <span class="math">\(f=0\)</span> at the solution).</p>
<p><strong>Which solution?</strong> DFO-GN, and most similar software, will only find one solution to a set of nonlinear equations. Which one it finds is very difficult to predict, and depends very strongly on the point where the solver is started from. Often it finds the closest solution, but there are no guarantees this will be the case. If you need to find all/multiple solutions for your problem, consider techniques such as <a class="reference external" href="http://www.sciencedirect.com/science/article/pii/0022247X83900550">deflation</a>.</p>
</div>
<div class="section" id="details-of-the-dfo-gn-algorithm">
<h2>Details of the DFO-GN Algorithm<a class="headerlink" href="#details-of-the-dfo-gn-algorithm" title="Permalink to this headline">¶</a></h2>
<p>DFO-GN is a type of <em>trust-region</em> method, a common category of optimization algorithms for nonconvex problems. Given a current estimate of the solution <span class="math">\(x_k\)</span>, we compute a model which approximates the objective <span class="math">\(m_k(s)\approx f(x_k+s)\)</span> (for small steps <span class="math">\(s\)</span>), and maintain a value <span class="math">\(\Delta_k&gt;0\)</span> (called the <em>trust region radius</em>) which measures the size of <span class="math">\(s\)</span> for which the approximation is good.</p>
<p>At each step, we compute a trial step <span class="math">\(s_k\)</span> designed to make our approximation <span class="math">\(m_k(s)\)</span> small (this task is called the <em>trust region subproblem</em>). We evaluate the objective at this new point, and if this provided a good decrease in the objective, we take the step (<span class="math">\(x_{k+1}=x_k+s_k\)</span>), otherwise we stay put (<span class="math">\(x_{k+1}=x_k\)</span>). Based on this information, we choose a new value <span class="math">\(\Delta_{k+1}\)</span>, and repeat the process.</p>
<p>In DFO-GN, we construct our approximation <span class="math">\(m_k(s)\)</span> by interpolating a linear approximation for each residual <span class="math">\(r_i(x)\)</span> at several points close to <span class="math">\(x_k\)</span>. To make sure our interpolated model is accurate, we need to regularly check that the points are well-spaced, and move them if they aren’t (i.e. improve the geometry of our interpolation points).</p>
<p>A complete description of the DFO-GN algorithm is given in our paper <a class="reference internal" href="#cr2017" id="id1">[CR2017]</a>.</p>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<table class="docutils citation" frame="void" id="cr2017" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[CR2017]</a></td><td>Cartis, C. and Roberts, L., <a class="reference external" href="https://arxiv.org/abs/1710.11005">A Derivative-Free Gauss-Newton Method</a>, submitted (2017).</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="install.html" class="btn btn-neutral float-right" title="Installing DFO-GN" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="DFO-GN: A Derivative-Free Gauss-Newton Solver" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Lindon Roberts (Mathematical Institute, University of Oxford).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>